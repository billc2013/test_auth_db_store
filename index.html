<!DOCTYPE html>
<html>
<head>
    <title>Minimal Auth0 Test</title>
</head>
<body>
    <h1>Minimal Auth0 Test</h1>
    <button id="login">Login</button>
    <div id="status"></div>

    <script>
        document.getElementById('login').addEventListener('click', () => {
            const auth0Domain = 'dev-dfbbkd2f8l4ykviq.us.auth0.com';
            const clientId = '7UMbmSJEOa0ZqEObjxJmMwY9RFwQxerv';
            const redirectUri = window.location.origin;
            
            const auth0LoginUrl = `https://${auth0Domain}/authorize?` +
                `response_type=token&` +
                `client_id=${clientId}&` +
                `redirect_uri=${encodeURIComponent(redirectUri)}&` +
                `scope=openid profile email`;
            
            window.location.href = auth0LoginUrl;
        });

        // Check for authentication response
        if (window.location.hash) {
            const params = new URLSearchParams(window.location.hash.substring(1));
            const accessToken = params.get('access_token');
            if (accessToken) {
                document.getElementById('status').textContent = 'Logged in!';
                // Add logout button dynamically
                const logoutBtn = document.createElement('button');
                logoutBtn.textContent = 'Logout';
                logoutBtn.onclick = () => {
                    window.location.href = '/';  // Simple logout by returning to home
                };
                document.getElementById('status').appendChild(logoutBtn);
                
                // Show token preview (first few characters)
                console.log('Access Token:', accessToken.substring(0, 20) + '...');
            }
        }

        
    </script>
</body>
</html>
